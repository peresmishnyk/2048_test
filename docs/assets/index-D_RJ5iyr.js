const _0x367f04=_0x294f;(function(_0x1833e7,_0x4bd4c9){const _0x4b9180=_0x294f,_0x53f89f=_0x1833e7();while(!![]){try{const _0x419386=-parseInt(_0x4b9180(0x232))/0x1*(-parseInt(_0x4b9180(0x262))/0x2)+parseInt(_0x4b9180(0x1ac))/0x3+-parseInt(_0x4b9180(0x215))/0x4*(-parseInt(_0x4b9180(0x1c6))/0x5)+parseInt(_0x4b9180(0x269))/0x6+-parseInt(_0x4b9180(0x1de))/0x7*(parseInt(_0x4b9180(0x1c3))/0x8)+parseInt(_0x4b9180(0x1fd))/0x9+-parseInt(_0x4b9180(0x1e7))/0xa;if(_0x419386===_0x4bd4c9)break;else _0x53f89f['push'](_0x53f89f['shift']());}catch(_0x5a9ff9){_0x53f89f['push'](_0x53f89f['shift']());}}}(_0x235b,0xf108f),function polyfill(){const _0x5e99e5=_0x294f,_0x11b499=document['createElement'](_0x5e99e5(0x1cc))['relList'];if(_0x11b499&&_0x11b499[_0x5e99e5(0x1e4)]&&_0x11b499[_0x5e99e5(0x1e4)](_0x5e99e5(0x205)))return;for(const _0x1ed390 of document[_0x5e99e5(0x24f)](_0x5e99e5(0x1b1))){_0x8c5a59(_0x1ed390);}new MutationObserver(_0x2e3214=>{const _0x74ff9e=_0x5e99e5;for(const _0x1f4a54 of _0x2e3214){if(_0x1f4a54['type']!=='childList')continue;for(const _0x2dcd8f of _0x1f4a54[_0x74ff9e(0x201)]){if(_0x2dcd8f[_0x74ff9e(0x26d)]===_0x74ff9e(0x1c0)&&_0x2dcd8f[_0x74ff9e(0x1c9)]===_0x74ff9e(0x205))_0x8c5a59(_0x2dcd8f);}}})[_0x5e99e5(0x24a)](document,{'childList':!![],'subtree':!![]});function _0x373e71(_0x429ae1){const _0x2f4c27=_0x5e99e5,_0x41cf5b={};if(_0x429ae1['integrity'])_0x41cf5b[_0x2f4c27(0x240)]=_0x429ae1[_0x2f4c27(0x240)];if(_0x429ae1[_0x2f4c27(0x1d8)])_0x41cf5b[_0x2f4c27(0x1d8)]=_0x429ae1[_0x2f4c27(0x1d8)];if(_0x429ae1[_0x2f4c27(0x20a)]===_0x2f4c27(0x1e8))_0x41cf5b[_0x2f4c27(0x21c)]=_0x2f4c27(0x255);else{if(_0x429ae1[_0x2f4c27(0x20a)]===_0x2f4c27(0x275))_0x41cf5b['credentials']=_0x2f4c27(0x24b);else _0x41cf5b[_0x2f4c27(0x21c)]=_0x2f4c27(0x22b);}return _0x41cf5b;}function _0x8c5a59(_0x45a5aa){const _0x3155d7=_0x5e99e5;if(_0x45a5aa['ep'])return;_0x45a5aa['ep']=!![];const _0x497d5f=_0x373e71(_0x45a5aa);fetch(_0x45a5aa[_0x3155d7(0x276)],_0x497d5f);}}());const gridSize=0x4;let grid=[],tiles=[],score=0x0,isGameOver=![],isAnimating=![],audioInitialized=![];function _0x294f(_0x4d8cf6,_0x59f534){const _0x235b9f=_0x235b();return _0x294f=function(_0x294f3a,_0x44b078){_0x294f3a=_0x294f3a-0x1a2;let _0x3a536a=_0x235b9f[_0x294f3a];return _0x3a536a;},_0x294f(_0x4d8cf6,_0x59f534);}function resetState(){const _0x2e7d19=_0x294f;grid=Array(gridSize)[_0x2e7d19(0x239)](null)[_0x2e7d19(0x1b9)](()=>Array(gridSize)[_0x2e7d19(0x239)](0x0)),tiles=Array(gridSize)[_0x2e7d19(0x239)](null)[_0x2e7d19(0x1b9)](()=>Array(gridSize)['fill'](null)),score=0x0,isGameOver=![],isAnimating=![];}function setGrid(_0x5c5b7d){grid=_0x5c5b7d;}function setTiles(_0x71bb3d){tiles=_0x71bb3d;}function incrementScore(_0x17f504){score+=_0x17f504;}function setIsGameOver(_0x42011f){isGameOver=_0x42011f;}function setIsAnimating(_0x15c252){isAnimating=_0x15c252;}function setAudioInitialized(_0x2af264){audioInitialized=_0x2af264;}function setGridValue(_0x489a4e,_0x5187ef,_0xb5dd86){const _0x3fd947=_0x294f;grid&&grid[_0x489a4e]?grid[_0x489a4e][_0x5187ef]=_0xb5dd86:console[_0x3fd947(0x1e9)](_0x3fd947(0x265)+_0x489a4e+',\x20'+_0x5187ef+']');}const gameBoard$3=document[_0x367f04(0x270)](_0x367f04(0x25b));function applySingleTileStyle(_0x782c76,_0x145d1a){const _0x58aadd=_0x367f04,_0x22116d={0x2:{'background':_0x58aadd(0x1ad),'color':_0x58aadd(0x227)},0x4:{'background':'#ede0c8','color':_0x58aadd(0x227)},0x8:{'background':_0x58aadd(0x1bd),'color':_0x58aadd(0x25a)},0x10:{'background':_0x58aadd(0x26f),'color':_0x58aadd(0x25a)},0x20:{'background':_0x58aadd(0x208),'color':_0x58aadd(0x25a)},0x40:{'background':_0x58aadd(0x231),'color':_0x58aadd(0x25a)},0x80:{'background':'#edcf72','color':'#f9f6f2'},0x100:{'background':_0x58aadd(0x266),'color':_0x58aadd(0x25a)},0x200:{'background':_0x58aadd(0x247),'color':'#f9f6f2'},0x400:{'background':'#edc53f','color':_0x58aadd(0x25a)},0x800:{'background':_0x58aadd(0x273),'color':'#f9f6f2'}},_0x45ec32=_0x22116d[_0x145d1a]||{'background':_0x58aadd(0x1d9),'color':_0x58aadd(0x25a)};_0x782c76[_0x58aadd(0x1b0)][_0x58aadd(0x26c)]=_0x45ec32[_0x58aadd(0x21b)],_0x782c76[_0x58aadd(0x1b0)][_0x58aadd(0x259)]=_0x45ec32['color'];if(_0x145d1a>=0x400)_0x782c76['style'][_0x58aadd(0x1bf)]=_0x58aadd(0x26e);else _0x145d1a>=0x80?_0x782c76['style'][_0x58aadd(0x1bf)]='45px':_0x782c76[_0x58aadd(0x1b0)][_0x58aadd(0x1bf)]=_0x58aadd(0x226);}function createTile(_0x57d7ed,_0x5abd3a,_0x1ea3e1,_0x10ef5c,_0x3da791,_0x3f588a){const _0x258aca=_0x367f04;console['log']('[createTile]\x20Called\x20for\x20['+_0x57d7ed+','+_0x5abd3a+'],\x20value\x20'+_0x1ea3e1);let _0x3a6228=null;try{_0x3a6228=document[_0x258aca(0x23a)](_0x258aca(0x1be));if(!_0x3a6228)return console[_0x258aca(0x1e9)](_0x258aca(0x203)),null;console[_0x258aca(0x1c1)](_0x258aca(0x272)+_0x57d7ed+','+_0x5abd3a+']'),_0x3a6228[_0x258aca(0x1cf)][_0x258aca(0x23b)](_0x258aca(0x256)),_0x3a6228[_0x258aca(0x1cf)]['add'](_0x258aca(0x229)+_0x1ea3e1),_0x3a6228['textContent']=_0x1ea3e1,console[_0x258aca(0x1c1)](_0x258aca(0x236)+_0x57d7ed+','+_0x5abd3a+']'),applySingleTileStyle(_0x3a6228,_0x1ea3e1),console[_0x258aca(0x1c1)]('[createTile]\x20Style\x20applied\x20for\x20['+_0x57d7ed+','+_0x5abd3a+']'),_0x3a6228[_0x258aca(0x1b0)][_0x258aca(0x1f5)]=_0x10ef5c+'px',_0x3a6228['style'][_0x258aca(0x25f)]=_0x10ef5c+'px',_0x3a6228['style'][_0x258aca(0x249)]=_0x57d7ed*(_0x10ef5c+_0x3da791)+_0x3f588a+'px',_0x3a6228[_0x258aca(0x1b0)][_0x258aca(0x1f3)]=_0x5abd3a*(_0x10ef5c+_0x3da791)+_0x3f588a+'px',console['log'](_0x258aca(0x1eb)+_0x57d7ed+','+_0x5abd3a+']');if(!gameBoard$3)return console['error'](_0x258aca(0x1c7)),null;return gameBoard$3[_0x258aca(0x207)](_0x3a6228),console[_0x258aca(0x1c1)](_0x258aca(0x1ba)+_0x57d7ed+','+_0x5abd3a+']'),console[_0x258aca(0x1c1)]('[createTile]\x20Returning\x20tile\x20element\x20for\x20['+_0x57d7ed+','+_0x5abd3a+']',_0x3a6228),_0x3a6228;}catch(_0xb63f1a){return console['error'](_0x258aca(0x25d)+_0x57d7ed+','+_0x5abd3a+']:',_0xb63f1a),console[_0x258aca(0x1e9)](_0x258aca(0x277)+_0x57d7ed+_0x258aca(0x20b)+_0x5abd3a+_0x258aca(0x202)+_0x1ea3e1+_0x258aca(0x210),_0x3a6228),null;}}const backgroundAudio=document['getElementById'](_0x367f04(0x1a4)),moveAudio=document[_0x367f04(0x270)](_0x367f04(0x222)),fanfareAudio=document[_0x367f04(0x270)]('fanfare-audio');function _0x235b(){const _0x521ca7=['start-overlay','Game\x20initialized\x20and\x20started.','classList','justifyContent','actions','fromCharCode','Start\x20button\x20not\x20found!','Removing\x20merged\x20tile\x20DOM\x20elements:','calculateMoveUp\x20error:\x20Transposed\x20grid\x20missing\x20column\x20','innerHTML','10px\x2020px','referrerPolicy','#3c3a32','key','remove','[addRandomTile]\x20No\x20empty\x20cells\x20found.','Calculating\x20move\x20left...','721DyTKks','100%','random','.grid-cell','findIndex','onclick','supports','Grid\x20state\x20after\x20adding\x20random\x20tile\x20data:','borderRadius','37441670kpSCTR','use-credentials','error','Attempting\x20to\x20start\x20background\x20music...','[createTile]\x20Position\x20styles\x20set\x20for\x20[','Animating\x20MERGE:\x20[','Updating\x20grid\x20state\x20and\x20score...','fontWeight','none','type',']\x20at\x20[','catch','left','querySelector','width','addEventListener','padding','warn','center','Move\x20audio\x20element\x20not\x20found.','Help:\x20No\x20beneficial\x20moves\x20found.','textContent','12801789ugJBGF','currentTime','#8f7a66','Full\x20render\x20complete.','addedNodes',',\x20value=','[createTile]\x20document.createElement(\x27div\x27)\x20failed!','finalRow','modulepreload','parse','appendChild','#f67c5f','Restart\x20Game','crossOrigin',',\x20c=','---\x20All\x20CSS\x20transitions\x20awaited\x20---','push','ArrowRight',']\x20into\x20[',',\x20tileElement=','then','rgba(238,\x20228,\x20218,\x200.73)','button','Calculating\x20move\x20down...','2639240VwpfDY','target','Calling\x20full\x20renderGrid()\x20post-animation...','Fanfare\x20playback\x20failed:','Fanfare\x20audio\x20element\x20not\x20found.','transposeGrid\x20called\x20with\x20invalid\x20matrix:','background','credentials','alignItems','merge','transitionend','from1','position','move-audio','game-over-message','parentNode','0\x200\x2020px\x200','55px','#776e65','move','tile-','toLowerCase','same-origin','renderGrid()\x20complete\x20post-animation.','Score:','calculateMoveDown\x20error:\x20Transposed\x20grid\x20missing\x20column\x20',']\x20to\x20[','floor','#f65e3b','9wxsUGG','all','removeEventListener','from2','[createTile]\x20Applying\x20single\x20style\x20for\x20[','Input\x20matrix:','emptyCells','fill','createElement','add','finalGrid','start-button','column','Background\x20audio\x20element\x20not\x20found.','integrity','score','visibility','index','bold','filter','row','#edc850','Correct\x20environment\x20detected.\x20Setting\x20up\x20start\x20button.','top','observe','omit','18px','.game-container','Animating\x20MOVE:\x20from\x20[','querySelectorAll','reverse','Calculating\x20move\x20up...','value','id1','100','include','tile','cursor','pause','color','#f9f6f2','game-board','ArrowDown','[createTile]\x20Error\x20during\x20execution\x20for\x20[','3px','height','join','Error\x20during\x20transposeGrid\x20execution:','70524eessYq','play','---\x20Animation\x20sequence\x20complete.\x20isAnimating\x20=\x20false.\x20---','Attempted\x20to\x20set\x20grid\x20value\x20at\x20invalid\x20coordinates:\x20[','#edcc61','Cannot\x20play\x20fanfare:\x20Audio\x20context\x20not\x20initialized.','some','8020920jOjPUq','Incorrect\x20environment\x20detected.\x20Game\x20initialization\x20blocked.','calculateMoveUp\x20invalid\x20grid:','backgroundColor','tagName','40px','#f59563','getElementById','from','[createTile]\x20Element\x20created\x20for\x20[','#edc22e','scoreIncrease','anonymous','href','[createTile]\x20State:\x20r=','zIndex','propertyName','targetRow','background-audio','flex','Animation\x20failed:','down','ArrowLeft','moved','Attempting\x20to\x20play\x20fanfare...','display','4296198XkmYpK','#eee4da','right','[initGrid]\x20gameBoard\x20element\x20not\x20found!','style','link[rel=\x22modulepreload\x22]','click','length','Move\x20action:\x20Tile\x20DOM\x20element\x20not\x20found\x20at\x20start\x20pos\x20[','clientWidth',']\x20or\x20[','absolute','help-button','map','[createTile]\x20Appended\x20to\x20gameBoard\x20for\x20[','Initializing\x20audio\x20context...','forEach','#f2b179','div','fontSize','LINK','log','flexDirection','33944dTWwyw','stringify','calculateMoveDown\x20invalid\x20grid:','5BfJqaV','[createTile]\x20gameBoard\x20element\x20not\x20found!','mergeScore','rel','Help\x20suggested\x20move\x20resulted\x20in\x20no\x20change?','id2','link'];_0x235b=function(){return _0x521ca7;};return _0x235b();}function initAudioContext(){const _0x2e936f=_0x367f04;if(audioInitialized)return;console[_0x2e936f(0x1c1)](_0x2e936f(0x1bb)),setAudioInitialized(!![]),playFanfare(),moveAudio&&moveAudio['play']()['then'](()=>moveAudio['pause']())[_0x2e936f(0x1f2)](()=>{}),startBackgroundMusic();}function startBackgroundMusic(){const _0x53931c=_0x367f04;backgroundAudio?(console[_0x53931c(0x1c1)](_0x53931c(0x1ea)),backgroundAudio['volume']=0.3,backgroundAudio[_0x53931c(0x263)]()[_0x53931c(0x211)](()=>{console['log']('Background\x20music\x20started.');})[_0x53931c(0x1f2)](_0x215767=>{const _0x1ce2be=_0x53931c;console[_0x1ce2be(0x1f8)]('Background\x20music\x20playback\x20failed:',_0x215767);})):console['warn'](_0x53931c(0x23f));}function playMoveSound(){const _0x5bc4db=_0x367f04;if(!audioInitialized)return;moveAudio?(moveAudio[_0x5bc4db(0x258)](),moveAudio[_0x5bc4db(0x1fe)]=0x0,moveAudio['play']()['catch'](_0x4fff2c=>{const _0x476967=_0x5bc4db;console[_0x476967(0x1f8)]('Move\x20sound\x20playback\x20failed:',_0x4fff2c);})):console[_0x5bc4db(0x1f8)](_0x5bc4db(0x1fa));}function playFanfare(){const _0x54fcbb=_0x367f04;if(audioInitialized&&fanfareAudio)console['log'](_0x54fcbb(0x1aa)),fanfareAudio[_0x54fcbb(0x258)](),fanfareAudio[_0x54fcbb(0x1fe)]=0x0,fanfareAudio['play']()[_0x54fcbb(0x1f2)](_0x5b9c5d=>{const _0x429554=_0x54fcbb;console[_0x429554(0x1f8)](_0x429554(0x218),_0x5b9c5d);});else!audioInitialized?console[_0x54fcbb(0x1f8)](_0x54fcbb(0x267)):console[_0x54fcbb(0x1f8)](_0x54fcbb(0x219));}const scoreElement=document[_0x367f04(0x270)](_0x367f04(0x241)),gameBoard$2=document[_0x367f04(0x270)](_0x367f04(0x25b)),startOverlay=document[_0x367f04(0x270)](_0x367f04(0x1cd)),startButton=document['getElementById'](_0x367f04(0x23d)),gameContainer=document[_0x367f04(0x1f4)](_0x367f04(0x24d));function updateScoreDisplay(_0x4b6ca5){const _0x17166b=_0x367f04;scoreElement&&(scoreElement[_0x17166b(0x1fc)]=_0x4b6ca5);}function showGameOver(){const _0x1606d5=_0x367f04;console['log']('Game\x20Over!');if(!gameBoard$2)return;const _0x1e6b16=document[_0x1606d5(0x23a)](_0x1606d5(0x1be));_0x1e6b16['id']=_0x1606d5(0x223),_0x1e6b16[_0x1606d5(0x1b0)][_0x1606d5(0x221)]=_0x1606d5(0x1b7),_0x1e6b16[_0x1606d5(0x1b0)][_0x1606d5(0x249)]='0',_0x1e6b16['style'][_0x1606d5(0x1f3)]='0',_0x1e6b16['style'][_0x1606d5(0x1f5)]='100%',_0x1e6b16[_0x1606d5(0x1b0)][_0x1606d5(0x25f)]=_0x1606d5(0x1df),_0x1e6b16['style'][_0x1606d5(0x26c)]=_0x1606d5(0x212),_0x1e6b16[_0x1606d5(0x1b0)][_0x1606d5(0x1ab)]=_0x1606d5(0x1a5),_0x1e6b16[_0x1606d5(0x1b0)][_0x1606d5(0x1c2)]=_0x1606d5(0x23e),_0x1e6b16[_0x1606d5(0x1b0)][_0x1606d5(0x1d0)]=_0x1606d5(0x1f9),_0x1e6b16['style'][_0x1606d5(0x21d)]='center',_0x1e6b16['style'][_0x1606d5(0x278)]=_0x1606d5(0x254);const _0x180dd2=document[_0x1606d5(0x23a)]('p');_0x180dd2[_0x1606d5(0x1fc)]='Game\x20Over!',_0x180dd2[_0x1606d5(0x1b0)][_0x1606d5(0x1bf)]='40px',_0x180dd2[_0x1606d5(0x1b0)][_0x1606d5(0x1ee)]=_0x1606d5(0x244),_0x180dd2['style'][_0x1606d5(0x259)]=_0x1606d5(0x227),_0x180dd2[_0x1606d5(0x1b0)]['margin']=_0x1606d5(0x225);const _0x6429ba=document[_0x1606d5(0x23a)](_0x1606d5(0x213));_0x6429ba[_0x1606d5(0x1fc)]=_0x1606d5(0x209),_0x6429ba[_0x1606d5(0x1b0)][_0x1606d5(0x1f7)]=_0x1606d5(0x1d7),_0x6429ba[_0x1606d5(0x1b0)]['fontSize']=_0x1606d5(0x24c),_0x6429ba[_0x1606d5(0x1b0)][_0x1606d5(0x26c)]=_0x1606d5(0x1ff),_0x6429ba[_0x1606d5(0x1b0)][_0x1606d5(0x259)]=_0x1606d5(0x25a),_0x6429ba[_0x1606d5(0x1b0)]['border']=_0x1606d5(0x1ef),_0x6429ba['style'][_0x1606d5(0x1e6)]=_0x1606d5(0x25e),_0x6429ba[_0x1606d5(0x1b0)][_0x1606d5(0x257)]='pointer',_0x6429ba[_0x1606d5(0x1e3)]=()=>{playFanfare(),initGrid();},_0x1e6b16[_0x1606d5(0x207)](_0x180dd2),_0x1e6b16[_0x1606d5(0x207)](_0x6429ba),gameBoard$2[_0x1606d5(0x207)](_0x1e6b16);}function hideGameOver(){const _0x172300=_0x367f04,_0x2d5bbb=document[_0x172300(0x270)](_0x172300(0x223));if(_0x2d5bbb)_0x2d5bbb[_0x172300(0x1db)]();}function hideStartOverlay(){const _0x371710=_0x367f04;if(startOverlay)startOverlay[_0x371710(0x1b0)][_0x371710(0x1ab)]=_0x371710(0x1ef);}function showGameContainer(){const _0x274e9c=_0x367f04;if(gameContainer)gameContainer[_0x274e9c(0x1b0)][_0x274e9c(0x242)]='visible';}function setupStartButtonListener(_0x3a2b04){const _0x2ddb5f=_0x367f04;startButton?startButton[_0x2ddb5f(0x1f6)](_0x2ddb5f(0x1b2),_0x3a2b04):console[_0x2ddb5f(0x1e9)](_0x2ddb5f(0x1d3));}const gameBoard$1=document['getElementById'](_0x367f04(0x25b));function renderGrid(){const _0x16842a=_0x367f04;if(!gameBoard$1){console[_0x16842a(0x1e9)]('[renderGrid]\x20gameBoard\x20element\x20not\x20found!');return;}gameBoard$1['querySelectorAll']('.tile')[_0x16842a(0x1bc)](_0x5e8198=>_0x5e8198['remove']()),setTiles(Array(gridSize)[_0x16842a(0x239)](null)['map'](()=>Array(gridSize)[_0x16842a(0x239)](null)));const _0x3d8d46=tiles,_0x5f112d=0xa,_0xc889b5=0xa,_0x1927f9=gameBoard$1[_0x16842a(0x1b5)]||0x190,_0xb3d916=(_0x1927f9-0x2*_0xc889b5-(gridSize-0x1)*_0x5f112d)/gridSize;for(let _0x320ab1=0x0;_0x320ab1<gridSize;_0x320ab1++){for(let _0x2265c4=0x0;_0x2265c4<gridSize;_0x2265c4++){if(grid[_0x320ab1][_0x2265c4]!==0x0){const _0x487457=createTile(_0x320ab1,_0x2265c4,grid[_0x320ab1][_0x2265c4],_0xb3d916,_0x5f112d,_0xc889b5);_0x487457&&_0x3d8d46[_0x320ab1]&&(_0x3d8d46[_0x320ab1][_0x2265c4]=_0x487457);}}}console[_0x16842a(0x1c1)](_0x16842a(0x200));}function addRandomTile(){const _0x557902=_0x367f04;if(isGameOver)return;let _0x18567d=[];for(let _0x354b63=0x0;_0x354b63<gridSize;_0x354b63++){for(let _0x148dfe=0x0;_0x148dfe<gridSize;_0x148dfe++){grid[_0x354b63][_0x148dfe]===0x0&&_0x18567d['push']({'r':_0x354b63,'c':_0x148dfe});}}if(_0x18567d['length']>0x0){const {r:_0x5c565b,c:_0x32cb9b}=_0x18567d[Math[_0x557902(0x230)](Math[_0x557902(0x1e0)]()*_0x18567d[_0x557902(0x1b3)])],_0x302cef=Math[_0x557902(0x1e0)]()<0.9?0x2:0x4;setGridValue(_0x5c565b,_0x32cb9b,_0x302cef),console['log']('[addRandomTile]\x20Added\x20'+_0x302cef+'\x20at\x20['+_0x5c565b+','+_0x32cb9b+']\x20using\x20setGridValue');}else console[_0x557902(0x1c1)](_0x557902(0x1dc));}function initGrid(){const _0x4df539=_0x367f04;resetState(),updateScoreDisplay(score),hideGameOver();if(!gameBoard$1){console[_0x4df539(0x1e9)](_0x4df539(0x1af));return;}gameBoard$1[_0x4df539(0x24f)](_0x4df539(0x1e1))[_0x4df539(0x1bc)](_0x13fcef=>_0x13fcef[_0x4df539(0x1db)]());for(let _0xadcdfd=0x0;_0xadcdfd<gridSize*gridSize;_0xadcdfd++){const _0x5571a5=document[_0x4df539(0x23a)]('div');_0x5571a5['classList'][_0x4df539(0x23b)]('grid-cell'),gameBoard$1['appendChild'](_0x5571a5);}addRandomTile(),addRandomTile(),renderGrid();}function transposeGrid(_0x18155b){const _0x53e4a7=_0x367f04;if(!_0x18155b||_0x18155b[_0x53e4a7(0x1b3)]===0x0||!_0x18155b[0x0]||_0x18155b['some'](_0x501feb=>!_0x501feb||_0x501feb[_0x53e4a7(0x1b3)]!==_0x18155b[0x0][_0x53e4a7(0x1b3)]))return console[_0x53e4a7(0x1e9)](_0x53e4a7(0x21a),JSON['parse'](JSON['stringify'](_0x18155b))),Array(gridSize)[_0x53e4a7(0x239)](null)[_0x53e4a7(0x1b9)](()=>Array(gridSize)[_0x53e4a7(0x239)](0x0));try{return _0x18155b[0x0][_0x53e4a7(0x1b9)]((_0x21d53e,_0x3874c0)=>_0x18155b['map'](_0x337b3e=>_0x337b3e[_0x3874c0]));}catch(_0x209001){return console[_0x53e4a7(0x1e9)](_0x53e4a7(0x261),_0x209001,_0x53e4a7(0x237),JSON[_0x53e4a7(0x206)](JSON[_0x53e4a7(0x1c4)](_0x18155b))),Array(gridSize)[_0x53e4a7(0x239)](null)[_0x53e4a7(0x1b9)](()=>Array(gridSize)[_0x53e4a7(0x239)](0x0));}}const gameBoard=document[_0x367f04(0x270)](_0x367f04(0x25b));function hasEmptyCells(){for(let _0x31e490=0x0;_0x31e490<gridSize;_0x31e490++){for(let _0x8e8526=0x0;_0x8e8526<gridSize;_0x8e8526++){if(grid[_0x31e490][_0x8e8526]===0x0)return!![];}}return![];}function canMove(){for(let _0x22dd52=0x0;_0x22dd52<gridSize;_0x22dd52++){for(let _0x12d02e=0x0;_0x12d02e<gridSize-0x1;_0x12d02e++){if(grid[_0x22dd52][_0x12d02e]!==0x0&&grid[_0x22dd52][_0x12d02e]===grid[_0x22dd52][_0x12d02e+0x1])return!![];}}for(let _0x3ad648=0x0;_0x3ad648<gridSize;_0x3ad648++){for(let _0x14bb2b=0x0;_0x14bb2b<gridSize-0x1;_0x14bb2b++){if(grid[_0x14bb2b][_0x3ad648]!==0x0&&grid[_0x14bb2b][_0x3ad648]===grid[_0x14bb2b+0x1][_0x3ad648])return!![];}}if(hasEmptyCells())return!![];return![];}function checkGameOver(){!canMove()&&(setIsGameOver(!![]),showGameOver());}function processRowDetailed(_0x9c765c){const _0xa549e8=_0x367f04,_0x3cb153=[],_0x41868c=_0x9c765c[_0xa549e8(0x1b3)];let _0x3ff2aa=0x0,_0x39fb35=_0x9c765c[_0xa549e8(0x1b9)]((_0x1443fd,_0x1bf774)=>_0x1443fd?{'value':_0x1443fd,'index':_0x1bf774,'id':_0x3ff2aa++}:null),_0x46dc40=0x0,_0x1debb7=0x0;for(let _0x218a9a=0x0;_0x218a9a<_0x41868c;_0x218a9a++){_0x39fb35[_0x218a9a]&&(_0x218a9a!==_0x1debb7&&(_0x3cb153[_0xa549e8(0x20d)]({'type':_0xa549e8(0x228),'from':_0x39fb35[_0x218a9a][_0xa549e8(0x243)],'to':_0x1debb7,'value':_0x39fb35[_0x218a9a][_0xa549e8(0x252)],'id':_0x39fb35[_0x218a9a]['id']}),_0x39fb35[_0x1debb7]=_0x39fb35[_0x218a9a],_0x39fb35[_0x218a9a]=null),_0x1debb7++);}for(let _0x3d9164=0x0;_0x3d9164<_0x41868c-0x1;_0x3d9164++){if(_0x39fb35[_0x3d9164]&&_0x39fb35[_0x3d9164+0x1]&&_0x39fb35[_0x3d9164]['value']===_0x39fb35[_0x3d9164+0x1][_0xa549e8(0x252)]){const _0x328b4d=_0x39fb35[_0x3d9164]['value']*0x2;_0x46dc40+=_0x328b4d,_0x3cb153['push']({'type':'merge','from1':_0x39fb35[_0x3d9164][_0xa549e8(0x243)],'from2':_0x39fb35[_0x3d9164+0x1][_0xa549e8(0x243)],'to':_0x3d9164,'value':_0x328b4d,'id1':_0x39fb35[_0x3d9164]['id'],'id2':_0x39fb35[_0x3d9164+0x1]['id']}),_0x39fb35[_0x3d9164][_0xa549e8(0x252)]=_0x328b4d,_0x39fb35[_0x3d9164+0x1]=null;for(let _0x64a614=_0x3d9164+0x2;_0x64a614<_0x41868c;_0x64a614++){if(_0x39fb35[_0x64a614]){const _0x1a3e6f=_0x64a614-0x1;let _0x5c4164=_0x3cb153[_0xa549e8(0x1e2)](_0x485db3=>_0x485db3[_0xa549e8(0x1f0)]===_0xa549e8(0x228)&&_0x485db3['id']===_0x39fb35[_0x64a614]['id']);_0x5c4164!==-0x1?_0x3cb153[_0x5c4164]['to']=_0x1a3e6f:_0x3cb153[_0xa549e8(0x20d)]({'type':_0xa549e8(0x228),'from':_0x39fb35[_0x64a614][_0xa549e8(0x243)],'to':_0x1a3e6f,'value':_0x39fb35[_0x64a614][_0xa549e8(0x252)],'id':_0x39fb35[_0x64a614]['id']}),_0x39fb35[_0x1a3e6f]=_0x39fb35[_0x64a614],_0x39fb35[_0x64a614]=null;}}}}const _0x42e117=Array(_0x41868c)['fill'](0x0);_0x39fb35[_0xa549e8(0x1bc)]((_0x1b9112,_0x30bff9)=>{const _0x2241bf=_0xa549e8;if(_0x1b9112)_0x42e117[_0x30bff9]=_0x1b9112[_0x2241bf(0x252)];});const _0x414ed7=_0x3cb153[_0xa549e8(0x245)](_0x514450=>!(_0x514450[_0xa549e8(0x1f0)]===_0xa549e8(0x228)&&_0x3cb153[_0xa549e8(0x268)](_0x240f8b=>_0x240f8b[_0xa549e8(0x1f0)]===_0xa549e8(0x21e)&&_0x240f8b[_0xa549e8(0x1cb)]===_0x514450['id']))),_0x14b23a=_0x414ed7[_0xa549e8(0x245)](_0x321a15=>!(_0x321a15[_0xa549e8(0x1f0)]===_0xa549e8(0x228)&&_0x414ed7[_0xa549e8(0x268)](_0x2bd3ee=>_0x2bd3ee[_0xa549e8(0x1f0)]==='merge'&&_0x2bd3ee[_0xa549e8(0x253)]===_0x321a15['id'])));return{'actions':_0x14b23a,'finalRow':_0x42e117,'mergeScore':_0x46dc40};}function calculateMoveLeft(_0x468164){const _0xed0106=_0x367f04;console[_0xed0106(0x1c1)](_0xed0106(0x1dd));let _0xb563f8=![],_0x3f3e6d=0x0;const _0x5ea359=[],_0x58f67b=[];for(let _0x48155a=0x0;_0x48155a<gridSize;_0x48155a++){const _0x2ecb06=_0x468164[_0x48155a],_0x1817be=processRowDetailed(_0x2ecb06);_0x58f67b['push'](_0x1817be[_0xed0106(0x204)]),_0x3f3e6d+=_0x1817be[_0xed0106(0x1c8)],_0x1817be[_0xed0106(0x1d1)][_0xed0106(0x1bc)](_0x31af80=>{_0x5ea359['push']({..._0x31af80,'row':_0x48155a}),_0xb563f8=!![];}),!_0xb563f8&&_0x2ecb06[_0xed0106(0x260)](',')!==_0x1817be[_0xed0106(0x204)][_0xed0106(0x260)](',')&&(_0xb563f8=!![]);}return{'moved':_0xb563f8,'finalGrid':_0x58f67b,'actions':_0x5ea359,'scoreIncrease':_0x3f3e6d};}function calculateMoveRight(_0x5c843c){const _0x4a381f=_0x367f04;console['log']('Calculating\x20move\x20right...');let _0x1d2340=![],_0x4fae1a=0x0;const _0xa478c7=[],_0x2f2273=[];for(let _0x2f76ba=0x0;_0x2f76ba<gridSize;_0x2f76ba++){const _0x460e2a=_0x5c843c[_0x2f76ba],_0x237e9d=[..._0x460e2a][_0x4a381f(0x250)](),_0xb0e0b5=processRowDetailed(_0x237e9d);_0x2f2273[_0x4a381f(0x20d)](_0xb0e0b5[_0x4a381f(0x204)][_0x4a381f(0x250)]()),_0x4fae1a+=_0xb0e0b5[_0x4a381f(0x1c8)],_0xb0e0b5[_0x4a381f(0x1d1)][_0x4a381f(0x1bc)](_0x40ada2=>{const _0x1a2efe=_0x4a381f;_0x1d2340=!![];const _0x165031={..._0x40ada2,'row':_0x2f76ba,'from':gridSize-0x1-_0x40ada2[_0x1a2efe(0x271)],'to':gridSize-0x1-_0x40ada2['to'],..._0x40ada2[_0x1a2efe(0x1f0)]===_0x1a2efe(0x21e)&&{'from1':gridSize-0x1-_0x40ada2['from1'],'from2':gridSize-0x1-_0x40ada2[_0x1a2efe(0x235)]}};_0xa478c7['push'](_0x165031);}),!_0x1d2340&&_0x460e2a[_0x4a381f(0x260)](',')!==_0x2f2273[_0x2f76ba][_0x4a381f(0x260)](',')&&(_0x1d2340=!![]);}return{'moved':_0x1d2340,'finalGrid':_0x2f2273,'actions':_0xa478c7,'scoreIncrease':_0x4fae1a};}function calculateMoveUp(_0x195b50){const _0x1e9069=_0x367f04;console[_0x1e9069(0x1c1)](_0x1e9069(0x251));if(!_0x195b50||_0x195b50[_0x1e9069(0x1b3)]!==gridSize||_0x195b50[_0x1e9069(0x268)](_0x353807=>!_0x353807||_0x353807[_0x1e9069(0x1b3)]!==gridSize))return console['error'](_0x1e9069(0x26b),_0x195b50),{'moved':![],'finalGrid':_0x195b50,'actions':[],'scoreIncrease':0x0};let _0x1f9758=![],_0x2776b9=0x0;const _0x8a7251=[];let _0x484600=transposeGrid(_0x195b50);const _0x4da773=[];for(let _0x22d6b3=0x0;_0x22d6b3<gridSize;_0x22d6b3++){if(!_0x484600||!_0x484600[_0x22d6b3]){console[_0x1e9069(0x1e9)](_0x1e9069(0x1d5)+_0x22d6b3),_0x4da773[_0x1e9069(0x20d)](Array(gridSize)[_0x1e9069(0x239)](0x0));continue;}const _0x52ed1a=_0x484600[_0x22d6b3],_0x39e82c=processRowDetailed(_0x52ed1a);_0x4da773[_0x1e9069(0x20d)](_0x39e82c['finalRow']),_0x2776b9+=_0x39e82c[_0x1e9069(0x1c8)],_0x39e82c['actions'][_0x1e9069(0x1bc)](_0x18950c=>{const _0x32d032=_0x1e9069;_0x1f9758=!![];const _0x4fc94f={..._0x18950c,'row':_0x18950c[_0x32d032(0x271)],'col':_0x22d6b3,'targetRow':_0x18950c['to'],..._0x18950c[_0x32d032(0x1f0)]===_0x32d032(0x21e)&&{'from1Row':_0x18950c[_0x32d032(0x220)],'from2Row':_0x18950c[_0x32d032(0x235)]}};_0x8a7251[_0x32d032(0x20d)](_0x4fc94f);}),!_0x1f9758&&_0x52ed1a[_0x1e9069(0x260)](',')!==_0x39e82c[_0x1e9069(0x204)]['join'](',')&&(_0x1f9758=!![]);}const _0x5e5600=transposeGrid(_0x4da773);if(!_0x5e5600||_0x5e5600[_0x1e9069(0x1b3)]!==gridSize||_0x5e5600[_0x1e9069(0x268)](_0x411ec0=>!_0x411ec0||_0x411ec0[_0x1e9069(0x1b3)]!==gridSize))return console[_0x1e9069(0x1e9)]('calculateMoveUp\x20invalid\x20finalGrid\x20after\x20transpose'),{'moved':![],'finalGrid':_0x195b50,'actions':[],'scoreIncrease':0x0};return{'moved':_0x1f9758,'finalGrid':_0x5e5600,'actions':_0x8a7251,'scoreIncrease':_0x2776b9};}function calculateMoveDown(_0x3dd2e0){const _0x4c8c66=_0x367f04;console[_0x4c8c66(0x1c1)](_0x4c8c66(0x214));if(!_0x3dd2e0||_0x3dd2e0[_0x4c8c66(0x1b3)]!==gridSize||_0x3dd2e0[_0x4c8c66(0x268)](_0x813194=>!_0x813194||_0x813194[_0x4c8c66(0x1b3)]!==gridSize))return console[_0x4c8c66(0x1e9)](_0x4c8c66(0x1c5),_0x3dd2e0),{'moved':![],'finalGrid':_0x3dd2e0,'actions':[],'scoreIncrease':0x0};let _0xbfaddf=![],_0x379bb9=0x0;const _0x596066=[];let _0x473326=transposeGrid(_0x3dd2e0);const _0x42a1d1=[];for(let _0xcc1efd=0x0;_0xcc1efd<gridSize;_0xcc1efd++){if(!_0x473326||!_0x473326[_0xcc1efd]){console[_0x4c8c66(0x1e9)](_0x4c8c66(0x22e)+_0xcc1efd),_0x42a1d1[_0x4c8c66(0x20d)](Array(gridSize)[_0x4c8c66(0x239)](0x0));continue;}const _0x37374a=_0x473326[_0xcc1efd],_0x34fa9b=[..._0x37374a]['reverse'](),_0x30a1f3=processRowDetailed(_0x34fa9b);_0x42a1d1[_0x4c8c66(0x20d)](_0x30a1f3[_0x4c8c66(0x204)][_0x4c8c66(0x250)]()),_0x379bb9+=_0x30a1f3[_0x4c8c66(0x1c8)],_0x30a1f3['actions']['forEach'](_0x1b1d1e=>{const _0x381046=_0x4c8c66;_0xbfaddf=!![];const _0x209091=gridSize-0x1-_0x1b1d1e[_0x381046(0x271)],_0x13b2ff=gridSize-0x1-_0x1b1d1e['to'],_0x5a0810=_0x1b1d1e['type']==='merge'?gridSize-0x1-_0x1b1d1e['from1']:void 0x0,_0x252cfd=_0x1b1d1e[_0x381046(0x1f0)]===_0x381046(0x21e)?gridSize-0x1-_0x1b1d1e[_0x381046(0x235)]:void 0x0,_0x14d34a={..._0x1b1d1e,'row':_0x209091,'col':_0xcc1efd,'targetRow':_0x13b2ff,..._0x1b1d1e[_0x381046(0x1f0)]===_0x381046(0x21e)&&{'from1Row':_0x5a0810,'from2Row':_0x252cfd}};_0x596066[_0x381046(0x20d)](_0x14d34a);}),!_0xbfaddf&&_0x37374a[_0x4c8c66(0x260)](',')!==_0x42a1d1[_0xcc1efd][_0x4c8c66(0x260)](',')&&(_0xbfaddf=!![]);}const _0x471c2c=transposeGrid(_0x42a1d1);if(!_0x471c2c||_0x471c2c[_0x4c8c66(0x1b3)]!==gridSize||_0x471c2c[_0x4c8c66(0x268)](_0x8a4f0a=>!_0x8a4f0a||_0x8a4f0a[_0x4c8c66(0x1b3)]!==gridSize))return console[_0x4c8c66(0x1e9)]('calculateMoveDown\x20invalid\x20finalGrid\x20after\x20transpose'),{'moved':![],'finalGrid':_0x3dd2e0,'actions':[],'scoreIncrease':0x0};return{'moved':_0xbfaddf,'finalGrid':_0x471c2c,'actions':_0x596066,'scoreIncrease':_0x379bb9};}async function animateMove(_0x44cc4a,_0x200a0d,_0xb0dd13){const _0x842d62=_0x367f04;if(isAnimating)return;setIsAnimating(!![]),console[_0x842d62(0x1c1)]('---\x20Starting\x20animateMove\x20(Re-enabled)\x20---',_0x44cc4a);const _0x2b4622=[],_0x3892dd=[],_0x4178ab=0xa,_0x37cd6b=0xa,_0x261ed3=gameBoard[_0x842d62(0x1b5)]||0x190,_0x5d6360=(_0x261ed3-0x2*_0x37cd6b-(gridSize-0x1)*_0x4178ab)/gridSize,_0x3e6712=tiles[_0x842d62(0x1b9)](_0x8c10a0=>[..._0x8c10a0]);_0x44cc4a[_0x842d62(0x1bc)](_0x47a332=>{const _0xc1639b=_0x842d62;var _0x5f5167,_0x2c6586,_0x4784c4;let _0x470fde,_0xd59ec7,_0x50f37d,_0x4dd793,_0x58a8b2,_0x3fcd48,_0x5bee7b;const {row:_0x4427f9,col:_0x1e0c8c}=_0x47a332;if(_0x47a332[_0xc1639b(0x1f0)]===_0xc1639b(0x228)){const {from:_0x8ce3d8,to:_0x2ca7b8,value:_0x5e55fe,id:_0x40eae2}=_0x47a332;_0x1e0c8c!==void 0x0?(_0x470fde=_0x47a332[_0xc1639b(0x246)],_0xd59ec7=_0x1e0c8c,_0x50f37d=_0x47a332[_0xc1639b(0x1a3)],_0x4dd793=_0x1e0c8c):(_0x470fde=_0x4427f9,_0xd59ec7=_0x8ce3d8,_0x50f37d=_0x4427f9,_0x4dd793=_0x2ca7b8),_0x58a8b2=(_0x5f5167=_0x3e6712[_0x470fde])==null?void 0x0:_0x5f5167[_0xd59ec7],_0x58a8b2?(console[_0xc1639b(0x1c1)](_0xc1639b(0x24e)+_0x470fde+','+_0xd59ec7+_0xc1639b(0x22f)+_0x50f37d+','+_0x4dd793+']'),_0x3fcd48=_0x50f37d*(_0x5d6360+_0x4178ab)+_0x37cd6b+'px',_0x5bee7b=_0x4dd793*(_0x5d6360+_0x4178ab)+_0x37cd6b+'px',_0x2b4622[_0xc1639b(0x20d)](new Promise(_0x478490=>{const _0x1cd286=_0xc1639b,_0x429bc5=_0x457dca=>{const _0x32ab30=_0x294f;_0x457dca[_0x32ab30(0x216)]===_0x58a8b2&&(_0x457dca[_0x32ab30(0x1a2)]===_0x32ab30(0x249)||_0x457dca[_0x32ab30(0x1a2)]===_0x32ab30(0x1f3))&&(_0x58a8b2[_0x32ab30(0x234)](_0x32ab30(0x21f),_0x429bc5),_0x478490());};_0x58a8b2[_0x1cd286(0x1f6)](_0x1cd286(0x21f),_0x429bc5),setTimeout(()=>{const _0x245251=_0x1cd286;if(_0x58a8b2['parentNode'])_0x58a8b2[_0x245251(0x234)](_0x245251(0x21f),_0x429bc5);_0x478490();},0x10e);})),_0x58a8b2[_0xc1639b(0x1b0)][_0xc1639b(0x249)]=_0x3fcd48,_0x58a8b2[_0xc1639b(0x1b0)]['left']=_0x5bee7b):console[_0xc1639b(0x1f8)](_0xc1639b(0x1b4)+_0x470fde+',\x20'+_0xd59ec7+']');}else{if(_0x47a332['type']===_0xc1639b(0x21e)){const {from1:_0x2fd67e,from2:_0x37e8f1,to:_0x5a54bb,value:_0x3bc477,from1Row:_0x44a2a6,from2Row:_0x3b0a52,targetRow:_0x52772a}=_0x47a332;let _0xfbae3b,_0x197584,_0x3f3e41,_0x2d0684,_0x1270aa,_0x57d893;_0x1e0c8c!==void 0x0?(_0xfbae3b=_0x44a2a6,_0x197584=_0x1e0c8c,_0x3f3e41=_0x3b0a52,_0x2d0684=_0x1e0c8c,_0x1270aa=_0x1e0c8c,_0x57d893=_0x52772a):(_0xfbae3b=_0x4427f9,_0x197584=_0x2fd67e,_0x3f3e41=_0x4427f9,_0x2d0684=_0x37e8f1,_0x1270aa=_0x5a54bb,_0x57d893=_0x4427f9);const _0x5f4143=(_0x2c6586=_0x3e6712[_0xfbae3b])==null?void 0x0:_0x2c6586[_0x197584],_0x36eaa8=(_0x4784c4=_0x3e6712[_0x3f3e41])==null?void 0x0:_0x4784c4[_0x2d0684];_0x5f4143&&_0x36eaa8?(console['log'](_0xc1639b(0x1ec)+_0x3f3e41+','+_0x2d0684+_0xc1639b(0x20f)+_0xfbae3b+','+_0x197584+_0xc1639b(0x1f1)+_0x57d893+','+_0x1270aa+']'),_0x3fcd48=_0x57d893*(_0x5d6360+_0x4178ab)+_0x37cd6b+'px',_0x5bee7b=_0x1270aa*(_0x5d6360+_0x4178ab)+_0x37cd6b+'px',_0x5f4143[_0xc1639b(0x1b0)][_0xc1639b(0x278)]='10',_0x36eaa8[_0xc1639b(0x1b0)][_0xc1639b(0x278)]='5',_0x2b4622[_0xc1639b(0x20d)](new Promise(_0x5ecefa=>{const _0x5d199a=_0xc1639b,_0x489eef=_0x135e9c=>{const _0x38bc8e=_0x294f;_0x135e9c['target']===_0x5f4143&&(_0x135e9c[_0x38bc8e(0x1a2)]===_0x38bc8e(0x249)||_0x135e9c[_0x38bc8e(0x1a2)]===_0x38bc8e(0x1f3))&&(_0x5f4143[_0x38bc8e(0x234)](_0x38bc8e(0x21f),_0x489eef),_0x5ecefa());};_0x5f4143[_0x5d199a(0x1f6)]('transitionend',_0x489eef),setTimeout(()=>{const _0xdbcf53=_0x5d199a;if(_0x5f4143[_0xdbcf53(0x224)])_0x5f4143[_0xdbcf53(0x234)](_0xdbcf53(0x21f),_0x489eef);_0x5ecefa();},0x10e);})),_0x2b4622['push'](new Promise(_0x2ffabd=>{const _0x503102=_0xc1639b,_0x51d43d=_0x26f52f=>{const _0x494af8=_0x294f;_0x26f52f[_0x494af8(0x216)]===_0x36eaa8&&(_0x26f52f[_0x494af8(0x1a2)]===_0x494af8(0x249)||_0x26f52f['propertyName']===_0x494af8(0x1f3))&&(_0x36eaa8[_0x494af8(0x234)]('transitionend',_0x51d43d),_0x2ffabd());};_0x36eaa8[_0x503102(0x1f6)](_0x503102(0x21f),_0x51d43d),setTimeout(()=>{const _0x5832e3=_0x503102;if(_0x36eaa8['parentNode'])_0x36eaa8[_0x5832e3(0x234)](_0x5832e3(0x21f),_0x51d43d);_0x2ffabd();},0x10e);})),_0x5f4143['style'][_0xc1639b(0x249)]=_0x3fcd48,_0x5f4143[_0xc1639b(0x1b0)][_0xc1639b(0x1f3)]=_0x5bee7b,_0x36eaa8['style'][_0xc1639b(0x249)]=_0x3fcd48,_0x36eaa8['style'][_0xc1639b(0x1f3)]=_0x5bee7b,_0x3892dd[_0xc1639b(0x20d)](_0x36eaa8)):console[_0xc1639b(0x1f8)]('Merge\x20action:\x20Tile\x20DOM\x20elements\x20not\x20found\x20at\x20['+_0xfbae3b+','+_0x197584+_0xc1639b(0x1b6)+_0x3f3e41+','+_0x2d0684+']');}}}),await Promise[_0x842d62(0x233)](_0x2b4622),console['log'](_0x842d62(0x20c)),console['log'](_0x842d62(0x1ed)),setGrid(_0x200a0d),incrementScore(_0xb0dd13),updateScoreDisplay(score),console['log'](_0x842d62(0x1d4),_0x3892dd),_0x3892dd['forEach'](_0x4b6632=>_0x4b6632['remove']()),addRandomTile(),console[_0x842d62(0x1c1)](_0x842d62(0x1e5),JSON[_0x842d62(0x206)](JSON[_0x842d62(0x1c4)](grid))),console[_0x842d62(0x1c1)](_0x842d62(0x217)),renderGrid(),console[_0x842d62(0x1c1)](_0x842d62(0x22c)),checkGameOver(),console[_0x842d62(0x1c1)](_0x842d62(0x264)),setIsAnimating(![]);}function handleInput(_0xc57ea8){const _0xb05cba=_0x367f04;if(isGameOver||isAnimating||!audioInitialized)return;let _0x1aed83=null;switch(_0xc57ea8[_0xb05cba(0x1da)]){case'ArrowUp':_0x1aed83=calculateMoveUp(grid);break;case _0xb05cba(0x25c):_0x1aed83=calculateMoveDown(grid);break;case _0xb05cba(0x1a8):_0x1aed83=calculateMoveLeft(grid);break;case _0xb05cba(0x20e):_0x1aed83=calculateMoveRight(grid);break;default:return;}_0x1aed83&&_0x1aed83[_0xb05cba(0x1a9)]?(playMoveSound(),animateMove(_0x1aed83[_0xb05cba(0x1d1)],_0x1aed83['finalGrid'],_0x1aed83['scoreIncrease'])[_0xb05cba(0x1f2)](_0xd05210=>{const _0x2b86e3=_0xb05cba;console[_0x2b86e3(0x1e9)](_0x2b86e3(0x1a6),_0xd05210),setIsAnimating(![]),setGrid(_0x1aed83['finalGrid']),incrementScore(_0x1aed83[_0x2b86e3(0x274)]),renderGrid(),updateScoreDisplay(score),checkGameOver();})):checkGameOver();}function simulateMove(_0xfa1a2a){const _0x282bf7=_0x367f04;console['warn']('simulateMove\x20needs\x20refactoring\x20for\x20modular\x20structure');const _0x3947ff=_0xfa1a2a==='left'?calculateMoveLeft:_0xfa1a2a==='right'?calculateMoveRight:_0xfa1a2a==='up'?calculateMoveUp:_0xfa1a2a===_0x282bf7(0x1a7)?calculateMoveDown:null;if(!_0x3947ff)return{'moved':![],'score':0x0,'emptyCells':0x0};const _0x3165dc=_0x3947ff(grid);let _0x82a918=0x0;if(_0x3165dc[_0x282bf7(0x1a9)])for(let _0x28ce69=0x0;_0x28ce69<gridSize;_0x28ce69++){for(let _0x4eae99=0x0;_0x4eae99<gridSize;_0x4eae99++){if(_0x3165dc[_0x282bf7(0x23c)][_0x28ce69][_0x4eae99]===0x0)_0x82a918++;}}return{'moved':_0x3165dc[_0x282bf7(0x1a9)],'score':_0x3165dc['scoreIncrease'],'emptyCells':_0x82a918};}function getBestMove(){const _0x3b067e=_0x367f04,_0xf8ce2=['up','down',_0x3b067e(0x1f3),_0x3b067e(0x1ae)];let _0x42ee34=null,_0xbf587b=-0x1,_0x2a67f3=-0x1;return _0xf8ce2[_0x3b067e(0x1bc)](_0x47abd6=>{const _0x3850ac=_0x3b067e,_0x46f96c=simulateMove(_0x47abd6);if(_0x46f96c[_0x3850ac(0x1a9)]){if(_0x46f96c[_0x3850ac(0x241)]>_0xbf587b)_0xbf587b=_0x46f96c[_0x3850ac(0x241)],_0x2a67f3=_0x46f96c[_0x3850ac(0x238)],_0x42ee34=_0x47abd6;else _0x46f96c['score']===_0xbf587b&&_0x46f96c['emptyCells']>_0x2a67f3&&(_0x2a67f3=_0x46f96c[_0x3850ac(0x238)],_0x42ee34=_0x47abd6);}}),console[_0x3b067e(0x1c1)]('Best\x20move:',_0x42ee34,_0x3b067e(0x22d),_0xbf587b,'Empty:',_0x2a67f3),_0x42ee34;}function executeHelpMove(){const _0x3845f8=_0x367f04;if(isGameOver||isAnimating||!audioInitialized)return;const _0x94e9da=getBestMove();if(_0x94e9da){let _0x34a693=null;switch(_0x94e9da){case'up':_0x34a693=calculateMoveUp(grid);break;case'down':_0x34a693=calculateMoveDown(grid);break;case'left':_0x34a693=calculateMoveLeft(grid);break;case _0x3845f8(0x1ae):_0x34a693=calculateMoveRight(grid);break;}_0x34a693&&_0x34a693[_0x3845f8(0x1a9)]?(playMoveSound(),animateMove(_0x34a693[_0x3845f8(0x1d1)],_0x34a693[_0x3845f8(0x23c)],_0x34a693['scoreIncrease'])[_0x3845f8(0x1f2)](_0x29c37f=>{})):console['warn'](_0x3845f8(0x1ca));}else console['log'](_0x3845f8(0x1fb));}function startGame(){const _0xa0d3e1=_0x367f04;console[_0xa0d3e1(0x1c1)]('Start\x20button\x20clicked.'),initAudioContext(),hideStartOverlay(),showGameContainer(),initGrid(),document[_0xa0d3e1(0x1f6)]('keydown',handleInput);const _0x568942=document[_0xa0d3e1(0x270)](_0xa0d3e1(0x1b8));_0x568942?_0x568942[_0xa0d3e1(0x1f6)]('click',executeHelpMove):console[_0xa0d3e1(0x1f8)]('AutoMove\x20button\x20not\x20found\x20after\x20start.'),console[_0xa0d3e1(0x1c1)](_0xa0d3e1(0x1ce));}document[_0x367f04(0x1f6)]('DOMContentLoaded',()=>{const _0x1cf296=_0x367f04;console[_0x1cf296(0x1c1)]('DOM\x20Loaded.');try{const _0x2bf832=window,_0x2a30a9=String[_0x1cf296(0x1d2)](0x6c,0x6f,0x63,0x61,0x74,0x69,0x6f,0x6e),_0x14b6ed=_0x2bf832[_0x2a30a9],_0x384b62=String['fromCharCode'](0x68,0x6f,0x73,0x74,0x6e,0x61,0x6d,0x65),_0x3a105b=_0x14b6ed[_0x384b62][_0x1cf296(0x22a)](),_0x49f679=String['fromCharCode'](0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73),_0x1726a4=String[_0x1cf296(0x1d2)](0x74,0x65,0x73,0x74),_0x20959a=String[_0x1cf296(0x1d2)](0x6c,0x6f,0x63,0x61,0x6c,0x68,0x6f,0x73,0x74),_0x572303=String[_0x1cf296(0x1d2)](0x70,0x65,0x72,0x65,0x73,0x6d,0x69,0x73,0x68,0x6e,0x79,0x6b,0x2e,0x67,0x69,0x74,0x68,0x75,0x62,0x2e,0x69,0x6f);if(!_0x3a105b[_0x49f679](_0x1726a4)&&!_0x3a105b[_0x49f679](_0x20959a)&&!_0x3a105b[_0x49f679](_0x572303)){console[_0x1cf296(0x1e9)](_0x1cf296(0x26a));const _0x262f6f=String[_0x1cf296(0x1d2)](0x73,0x74,0x61,0x72,0x74,0x2d,0x6f,0x76,0x65,0x72,0x6c,0x61,0x79),_0x3a42e2=String[_0x1cf296(0x1d2)](0x73,0x74,0x61,0x72,0x74,0x2d,0x62,0x75,0x74,0x74,0x6f,0x6e),_0x3b0f81=document[_0x1cf296(0x270)](_0x262f6f),_0x34e423=document[_0x1cf296(0x270)](_0x3a42e2);if(_0x3b0f81){_0x3b0f81[_0x1cf296(0x1d6)]='<p\x20style=\x22color:\x20red;\x20text-align:\x20center;\x22>Cannot\x20run\x20in\x20this\x20environment.</p>',_0x3b0f81[_0x1cf296(0x1b0)][_0x1cf296(0x1ab)]=_0x1cf296(0x1a5);if(_0x34e423)_0x34e423[_0x1cf296(0x1db)]();}return;}console[_0x1cf296(0x1c1)](_0x1cf296(0x248));const _0x20d3e4=startGame;setupStartButtonListener(_0x20d3e4);}catch(_0x3846d2){console[_0x1cf296(0x1e9)]('Error\x20during\x20environment\x20check\x20or\x20setup:',_0x3846d2);const _0x255098=String[_0x1cf296(0x1d2)](0x73,0x74,0x61,0x72,0x74,0x2d,0x6f,0x76,0x65,0x72,0x6c,0x61,0x79),_0xf277c5=document['getElementById'](_0x255098);_0xf277c5&&(_0xf277c5['innerHTML']='<p\x20style=\x22color:\x20red;\x20text-align:\x20center;\x22>Error\x20during\x20startup.</p>',_0xf277c5[_0x1cf296(0x1b0)][_0x1cf296(0x1ab)]=_0x1cf296(0x1a5));}});